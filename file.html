<!doctype html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
	<meta http-equiv="Pragma" content="no-cache">
	<meta http-equiv="Cache-Control" content="no-cache">
	<meta http-equiv="Expires" content="0">
	<meta content="width=device-width,initial-scale=1.0,maximum-scale=1.0,user-scalable=no" id="viewport" name="viewport">
	<meta content="yes" name="apple-mobile-web-app-capable" />
	<meta content="black" name="apple-mobile-web-app-status-bar-style" />
	<meta content="telephone=no" name="format-detection" />
	<meta content="email=no" name="format-detection" />
	<title>图片上传</title>
	<style type="text/css">
		*{margin: 0;padding: 0;}
		.box{
			width: 100%;
		}
		.box img{width: 100%;}
	</style>
</head>
<body>
	<input type="file" name="file" id="file" accept="image/*">
	<div class="box"></div>
	<script type="text/javascript">
		var oBox = document.querySelector('.box');
		var oFile = document.querySelector('input[name="file"]');
		oFile.onchange = function() {
			var f = this.files[0];
			if (f) {
				createImg(f);
			}
		}
		function createImg(f) {
			var fs = new FileReader();
			fs.readAsDataURL(f);
			fs.onload = function() {
				var base64Url = this.result;
				var img = new Image();
				img.onload = function() {
					oBox.appendChild(img);
				}
				img.src = base64Url;
			}
		}
	</script>
</body>
</html>